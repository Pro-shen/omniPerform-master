-- 插入微信运营指标测试数据 (2025-05 到 2025-07)
-- 清理现有测试数据
DELETE FROM wechat_operation_metrics WHERE stat_date >= '2025-05-01' AND stat_date <= '2025-07-31';
DELETE FROM wechat_group WHERE group_name LIKE '测试%';
DELETE FROM wechat_sop_plan WHERE plan_name LIKE '测试%';

-- 插入测试群组数据
INSERT INTO wechat_group (group_name, group_type, group_owner_name, member_count, description, status, create_by, create_time, update_by, update_time) VALUES
('测试VIP客户群', 'vip', '测试管理员1', 128, '测试用VIP客户交流群', 1, 'admin', NOW(), 'admin', NOW()),
('测试新品体验群', 'product', '测试管理员1', 95, '测试用新品体验交流群', 1, 'admin', NOW(), 'admin', NOW()),
('测试活动交流群', 'activity', '测试管理员2', 156, '测试用活动交流群', 1, 'admin', NOW(), 'admin', NOW()),
('测试品牌粉丝群', 'brand', '测试管理员2', 203, '测试用品牌粉丝群', 1, 'admin', NOW(), 'admin', NOW()),
('测试区域交流群', 'region', '测试管理员3', 87, '测试用区域交流群', 1, 'admin', NOW(), 'admin', NOW());

-- 插入微信运营指标测试数据 (2025年5月)
INSERT INTO wechat_operation_metrics (stat_date, stat_month, user_id, user_name, department, friend_requests, friend_accepts, friend_total, friend_active, chat_sessions, chat_messages, chat_replies, chat_duration, group_messages, group_interactions, group_activity_score, moments_posts, moments_likes, moments_comments, moments_shares, activity_pushes, activity_views, activity_participations, activity_conversions, data_reviews, report_generates, insights_shared, create_by, create_time, update_by, update_time) VALUES
-- 5月数据
('2025-05-01', '2025-05', 1, '测试导购1', '上海区域', 15, 12, 128, 95, 45, 245, 189, 120, 89, 156, 4.2, 8, 25, 12, 5, 3, 45, 28, 15, 2, 1, 3, 'admin', NOW(), 'admin', NOW()),
('2025-05-02', '2025-05', 1, '测试导购1', '上海区域', 18, 15, 135, 102, 52, 267, 201, 135, 95, 168, 4.5, 10, 28, 14, 6, 4, 52, 32, 18, 3, 2, 4, 'admin', NOW(), 'admin', NOW()),
('2025-05-03', '2025-05', 2, '测试导购2', '北京区域', 22, 18, 142, 108, 58, 289, 215, 145, 102, 175, 4.3, 12, 32, 16, 7, 5, 58, 35, 22, 4, 3, 5, 'admin', NOW(), 'admin', NOW()),
('2025-05-04', '2025-05', 2, '测试导购2', '北京区域', 20, 16, 156, 115, 62, 312, 234, 155, 108, 182, 4.8, 15, 35, 18, 8, 6, 62, 38, 25, 5, 4, 6, 'admin', NOW(), 'admin', NOW()),
('2025-05-05', '2025-05', 3, '测试导购3', '广州区域', 16, 13, 148, 98, 48, 298, 223, 125, 92, 165, 4.6, 11, 30, 15, 6, 4, 48, 30, 20, 3, 2, 4, 'admin', NOW(), 'admin', NOW()),
('2025-05-06', '2025-05', 1, '测试导购1', '上海区域', 19, 16, 162, 118, 65, 325, 245, 165, 115, 195, 4.7, 13, 38, 19, 9, 7, 65, 42, 28, 6, 5, 7, 'admin', NOW(), 'admin', NOW()),
('2025-05-07', '2025-05', 2, '测试导购2', '北京区域', 25, 20, 178, 125, 72, 356, 267, 180, 125, 208, 4.9, 16, 42, 22, 10, 8, 72, 45, 32, 7, 6, 8, 'admin', NOW(), 'admin', NOW()),
('2025-05-08', '2025-05', 3, '测试导购3', '广州区域', 21, 17, 165, 112, 55, 334, 251, 140, 105, 185, 4.4, 14, 36, 17, 7, 5, 55, 35, 25, 4, 3, 5, 'admin', NOW(), 'admin', NOW()),
('2025-05-09', '2025-05', 1, '测试导购1', '上海区域', 23, 19, 172, 122, 68, 345, 259, 170, 118, 198, 4.6, 15, 40, 20, 9, 7, 68, 40, 30, 6, 5, 7, 'admin', NOW(), 'admin', NOW()),
('2025-05-10', '2025-05', 2, '测试导购2', '北京区域', 17, 14, 159, 108, 58, 318, 238, 150, 98, 178, 4.3, 12, 34, 16, 7, 5, 58, 36, 24, 4, 3, 5, 'admin', NOW(), 'admin', NOW()),

-- 6月数据
('2025-06-01', '2025-06', 1, '测试导购1', '上海区域', 28, 23, 185, 135, 75, 378, 284, 190, 135, 225, 4.8, 18, 45, 25, 12, 9, 75, 48, 35, 8, 7, 9, 'admin', NOW(), 'admin', NOW()),
('2025-06-02', '2025-06', 2, '测试导购2', '北京区域', 32, 26, 198, 142, 82, 402, 301, 205, 145, 238, 4.9, 20, 48, 28, 13, 10, 82, 52, 38, 9, 8, 10, 'admin', NOW(), 'admin', NOW()),
('2025-06-03', '2025-06', 3, '测试导购3', '广州区域', 26, 21, 176, 128, 68, 356, 267, 175, 125, 215, 4.5, 16, 42, 22, 10, 8, 68, 45, 32, 7, 6, 8, 'admin', NOW(), 'admin', NOW()),
('2025-06-04', '2025-06', 1, '测试导购1', '上海区域', 30, 25, 203, 148, 85, 425, 318, 215, 155, 248, 5.0, 22, 52, 30, 15, 12, 85, 55, 42, 10, 9, 12, 'admin', NOW(), 'admin', NOW()),
('2025-06-05', '2025-06', 2, '测试导购2', '北京区域', 24, 20, 189, 138, 72, 389, 292, 185, 135, 228, 4.7, 19, 46, 26, 12, 9, 72, 48, 36, 8, 7, 9, 'admin', NOW(), 'admin', NOW()),
('2025-06-06', '2025-06', 3, '测试导购3', '广州区域', 27, 22, 195, 142, 78, 412, 309, 195, 142, 235, 4.8, 21, 49, 29, 14, 11, 78, 50, 39, 9, 8, 11, 'admin', NOW(), 'admin', NOW()),
('2025-06-07', '2025-06', 1, '测试导购1', '上海区域', 35, 29, 218, 158, 92, 456, 342, 230, 165, 265, 5.0, 25, 58, 35, 18, 15, 92, 62, 48, 12, 11, 15, 'admin', NOW(), 'admin', NOW()),
('2025-06-08', '2025-06', 2, '测试导购2', '北京区域', 29, 24, 201, 145, 82, 434, 325, 210, 148, 245, 4.9, 23, 54, 32, 16, 13, 82, 58, 45, 11, 10, 13, 'admin', NOW(), 'admin', NOW()),
('2025-06-09', '2025-06', 3, '测试导购3', '广州区域', 31, 25, 207, 148, 85, 445, 334, 220, 152, 252, 4.8, 24, 56, 33, 17, 14, 85, 60, 46, 11, 10, 14, 'admin', NOW(), 'admin', NOW()),
('2025-06-10', '2025-06', 1, '测试导购1', '上海区域', 26, 21, 192, 138, 75, 398, 298, 190, 135, 225, 4.6, 20, 48, 27, 13, 10, 75, 52, 40, 9, 8, 10, 'admin', NOW(), 'admin', NOW()),

-- 7月数据
('2025-07-01', '2025-07', 1, '测试导购1', '上海区域', 38, 31, 235, 168, 95, 489, 367, 245, 175, 285, 5.0, 28, 65, 38, 20, 16, 95, 68, 52, 14, 13, 16, 'admin', NOW(), 'admin', NOW()),
('2025-07-02', '2025-07', 2, '测试导购2', '北京区域', 42, 34, 248, 178, 105, 512, 384, 260, 185, 298, 5.0, 30, 68, 42, 22, 18, 105, 72, 56, 16, 15, 18, 'admin', NOW(), 'admin', NOW()),
('2025-07-03', '2025-07', 3, '测试导购3', '广州区域', 35, 28, 223, 158, 88, 467, 350, 235, 165, 275, 4.8, 26, 62, 35, 18, 15, 88, 65, 48, 13, 12, 15, 'admin', NOW(), 'admin', NOW()),
('2025-07-04', '2025-07', 1, '测试导购1', '上海区域', 40, 32, 241, 172, 98, 498, 373, 250, 178, 288, 4.9, 29, 66, 40, 21, 17, 98, 70, 54, 15, 14, 17, 'admin', NOW(), 'admin', NOW()),
('2025-07-05', '2025-07', 2, '测试导购2', '北京区域', 36, 29, 229, 162, 92, 478, 358, 240, 168, 278, 4.7, 27, 64, 36, 19, 15, 92, 66, 50, 14, 13, 15, 'admin', NOW(), 'admin', NOW()),
('2025-07-06', '2025-07', 3, '测试导购3', '广州区域', 39, 31, 238, 168, 95, 495, 371, 248, 175, 285, 4.9, 28, 65, 39, 20, 16, 95, 68, 52, 14, 13, 16, 'admin', NOW(), 'admin', NOW()),
('2025-07-07', '2025-07', 1, '测试导购1', '上海区域', 45, 36, 256, 182, 108, 534, 400, 270, 192, 308, 5.0, 32, 72, 45, 24, 20, 108, 78, 60, 18, 17, 20, 'admin', NOW(), 'admin', NOW()),
('2025-07-08', '2025-07', 2, '测试导购2', '北京区域', 41, 33, 245, 175, 102, 509, 382, 255, 182, 295, 4.8, 30, 68, 41, 22, 18, 102, 74, 56, 16, 15, 18, 'admin', NOW(), 'admin', NOW()),
('2025-07-09', '2025-07', 3, '测试导购3', '广州区域', 43, 34, 251, 178, 105, 523, 392, 262, 185, 302, 4.9, 31, 70, 43, 23, 19, 105, 76, 58, 17, 16, 19, 'admin', NOW(), 'admin', NOW()),
('2025-07-10', '2025-07', 1, '测试导购1', '上海区域', 37, 30, 232, 165, 92, 485, 363, 245, 172, 282, 4.6, 28, 64, 37, 19, 15, 92, 66, 50, 14, 13, 15, 'admin', NOW(), 'admin', NOW());

-- 插入SOP计划测试数据
INSERT INTO wechat_sop_plan (plan_name, sop_type, title, content, execute_type, scheduled_time, execute_time, status, execute_result, target_count, success_count, fail_count, completion_rate, create_by, create_time, update_by, update_time) VALUES
-- 5月SOP计划
('测试新客户欢迎SOP-001', 'welcome', '新客户欢迎消息', '欢迎加入我们的VIP客户群！', 'auto', '2025-05-01 09:00:00', '2025-05-01 09:05:00', 'completed', 'success', 10, 10, 0, 100.00, 'admin', NOW(), 'admin', NOW()),
('测试产品推荐SOP-001', 'promotion', '产品推荐消息', '为您推荐最新的产品！', 'auto', '2025-05-02 14:00:00', '2025-05-02 14:03:00', 'completed', 'success', 15, 14, 1, 93.33, 'admin', NOW(), 'admin', NOW()),
('测试活动邀请SOP-001', 'activity', '活动邀请消息', '邀请您参加我们的特别活动！', 'auto', '2025-05-03 16:00:00', '2025-05-03 16:02:00', 'completed', 'success', 20, 18, 2, 90.00, 'admin', NOW(), 'admin', NOW()),
('测试满意度调研SOP-001', 'survey', '满意度调研消息', '请为我们的服务打分', 'manual', '2025-05-04 10:00:00', NULL, 'executing', NULL, 25, 0, 0, 0.00, 'admin', NOW(), 'admin', NOW()),
('测试续费提醒SOP-001', 'reminder', '续费提醒消息', '您的会员即将到期，请及时续费', 'auto', '2025-05-05 15:00:00', NULL, 'pending', NULL, 30, 0, 0, 0.00, 'admin', NOW(), 'admin', NOW()),

-- 6月SOP计划
('测试新客户欢迎SOP-002', 'welcome', '新客户欢迎消息', '欢迎新朋友加入！', 'auto', '2025-06-01 09:00:00', '2025-06-01 09:04:00', 'completed', 'success', 12, 12, 0, 100.00, 'admin', NOW(), 'admin', NOW()),
('测试产品推荐SOP-002', 'promotion', '产品推荐消息', '六月新品推荐！', 'auto', '2025-06-02 14:00:00', '2025-06-02 14:05:00', 'completed', 'success', 18, 17, 1, 94.44, 'admin', NOW(), 'admin', NOW()),
('测试活动邀请SOP-002', 'activity', '活动邀请消息', '六月特惠活动邀请！', 'auto', '2025-06-03 16:00:00', '2025-06-03 16:01:00', 'completed', 'success', 22, 20, 2, 90.91, 'admin', NOW(), 'admin', NOW()),
('测试满意度调研SOP-002', 'survey', '满意度调研消息', '六月服务满意度调研', 'manual', '2025-06-04 10:00:00', '2025-06-04 10:08:00', 'completed', 'success', 28, 25, 3, 89.29, 'admin', NOW(), 'admin', NOW()),
('测试续费提醒SOP-002', 'reminder', '续费提醒消息', '会员续费优惠提醒', 'auto', '2025-06-05 15:00:00', '2025-06-05 15:03:00', 'completed', 'success', 35, 32, 3, 91.43, 'admin', NOW(), 'admin', NOW()),

-- 7月SOP计划
('测试新客户欢迎SOP-003', 'welcome', '新客户欢迎消息', '七月新客户欢迎！', 'auto', '2025-07-01 09:00:00', '2025-07-01 09:02:00', 'completed', 'success', 15, 15, 0, 100.00, 'admin', NOW(), 'admin', NOW()),
('测试产品推荐SOP-003', 'promotion', '产品推荐消息', '七月热销产品推荐！', 'auto', '2025-07-02 14:00:00', '2025-07-02 14:06:00', 'completed', 'success', 20, 18, 2, 90.00, 'admin', NOW(), 'admin', NOW()),
('测试活动邀请SOP-003', 'activity', '活动邀请消息', '七月大促活动邀请！', 'manual', '2025-07-03 16:00:00', NULL, 'executing', NULL, 25, 0, 0, 0.00, 'admin', NOW(), 'admin', NOW()),
('测试满意度调研SOP-003', 'survey', '满意度调研消息', '七月服务质量调研', 'auto', '2025-07-04 10:00:00', NULL, 'pending', NULL, 30, 0, 0, 0.00, 'admin', NOW(), 'admin', NOW()),
('测试续费提醒SOP-003', 'reminder', '续费提醒消息', '七月会员续费提醒', 'auto', '2025-07-05 15:00:00', NULL, 'pending', NULL, 40, 0, 0, 0.00, 'admin', NOW(), 'admin', NOW());

-- 提交事务
COMMIT;

-- 查询验证数据
SELECT '微信运营指标数据' as table_name, COUNT(*) as record_count FROM wechat_operation_metrics WHERE stat_date >= '2025-05-01' AND stat_date <= '2025-07-31'
UNION ALL
SELECT '微信群组数据' as table_name, COUNT(*) as record_count FROM wechat_group WHERE group_name LIKE '测试%'
UNION ALL
SELECT 'SOP计划数据' as table_name, COUNT(*) as record_count FROM wechat_sop_plan WHERE plan_name LIKE '测试%';